<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bendy Chronicles RU - Календарь событий</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #1a1a1a;
            color: #e0e0e0;
            font-family: 'Courier New', monospace;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 25% 25%, #2a2a2a 0%, #1a1a1a 100%);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        h1 {
            font-size: 2.5em;
            color: #ff4444;
            text-shadow: 0 0 10px rgba(255, 68, 68, 0.5);
            margin-bottom: 10px;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        select, button {
            background: #333;
            color: #e0e0e0;
            border: 1px solid #555;
            padding: 8px 15px;
            border-radius: 5px;
            font-family: inherit;
        }

        button {
            background: #ff4444;
            color: white;
            border: none;
            cursor: pointer;
            transition: background 0.3s;
        }

        button:hover {
            background: #ff6666;
        }

        .film-container {
            position: relative;
            margin: 40px 0;
        }

        .film-strip {
            display: flex;
            overflow-x: auto;
            scroll-behavior: smooth;
            padding: 40px 20px;
            background: 
                repeating-linear-gradient(
                    to bottom,
                    #2a2a2a,
                    #2a2a2a 30px,
                    #333 30px,
                    #333 60px
                );
            border-top: 15px solid #111;
            border-bottom: 15px solid #111;
            position: relative;
            scrollbar-width: none;
        }

        .film-strip::-webkit-scrollbar {
            display: none;
        }

        .film-strip::before,
        .film-strip::after {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            width: 50px;
            background: 
                linear-gradient(90deg, #1a1a1a, transparent),
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 60"><circle cx="5" cy="15" r="2" fill="%23333"/><circle cx="5" cy="30" r="2" fill="%23333"/><circle cx="5" cy="45" r="2" fill="%23333"/></svg>') repeat-y;
            z-index: 2;
        }

        .film-strip::before {
            left: 0;
        }

        .film-strip::after {
            right: 0;
            transform: rotate(180deg);
        }

        .month-section {
            flex: 0 0 auto;
            width: 300px;
            margin: 0 15px;
            background: rgba(40, 40, 40, 0.8);
            border: 2px solid #555;
            padding: 15px;
            position: relative;
        }

        .month-header {
            text-align: center;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #555;
            color: #ff4444;
            font-weight: bold;
        }

        .days-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
        }

        .day {
            aspect-ratio: 1;
            background: #333;
            border: 1px solid #444;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .day:hover {
            background: #444;
            transform: scale(1.1);
            z-index: 1;
        }

        .day.empty {
            background: transparent;
            border: 1px solid #2a2a2a;
            cursor: default;
        }

        .day.empty:hover {
            transform: none;
        }

        .event {
            background: #444;
            border-color: #666;
        }

        .event.teaser { border-left: 3px solid #ff4444; }
        .event.trailer { border-left: 3px solid #44ff44; }
        .event.game { border-left: 3px solid #4444ff; }

        .event-marker {
            position: absolute;
            bottom: 2px;
            right: 2px;
            width: 6px;
            height: 6px;
            border-radius: 50%;
        }

        .event.teaser .event-marker { background: #ff4444; }
        .event.trailer .event-marker { background: #44ff44; }
        .event.game .event-marker { background: #4444ff; }

        .scroll-hint {
            text-align: center;
            color: #666;
            font-style: italic;
            margin-top: 10px;
        }

        @media (max-width: 768px) {
            .month-section {
                width: 280px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Bendy Chronicles RU</h1>
            <p>Календарь событий франшизы</p>
        </header>

        <div class="controls">
            <select id="yearSelect">
                <option value="">Выберите год</option>
            </select>
            <select id="monthSelect">
                <option value="">Выберите месяц</option>
            </select>
            <select id="daySelect">
                <option value="">Выберите день</option>
            </select>
            <button id="goToDate">Перейти к дате</button>
            <button id="todayBtn">Сегодня</button>
        </div>

        <div class="film-container">
            <div class="film-strip" id="filmStrip">
                <!-- Months will be generated by JavaScript -->
            </div>
            <div class="scroll-hint">← Прокрутите в стороны для просмотра →</div>
        </div>
    </div>

    <script>
        // Данные о событиях
        const eventsData = [
            { date: '2017-02-10', type: 'teaser', title: 'Первый тизер Bendy and the Ink Machine' },
            { date: '2017-10-31', type: 'game', title: 'Выход Bendy and the Ink Machine Chapter 1' },
            { date: '2018-05-18', type: 'game', title: 'Выход Bendy and the Ink Machine Chapter 2' },
            { date: '2018-09-24', type: 'game', title: 'Выход Bendy and the Ink Machine Chapter 3' },
            { date: '2019-04-25', type: 'trailer', title: 'Трейлер Chapter 4' },
            { date: '2019-11-20', type: 'game', title: 'Выход Bendy and the Ink Machine Chapter 4' },
            { date: '2020-02-10', type: 'game', title: 'Выход Boris and the Dark Survival' },
            { date: '2020-11-20', type: 'trailer', title: 'Анонс Bendy and the Dark Revival' },
            { date: '2022-11-15', type: 'game', title: 'Выход Bendy and the Dark Revival' },
            { date: '2023-03-15', type: 'teaser', title: 'Тизер нового контента' },
            { date: '2024-01-10', type: 'trailer', title: 'Трейлер обновления' }
        ];

        // Элементы DOM
        const filmStrip = document.getElementById('filmStrip');
        const yearSelect = document.getElementById('yearSelect');
        const monthSelect = document.getElementById('monthSelect');
        const daySelect = document.getElementById('daySelect');
        const goToDateBtn = document.getElementById('goToDate');
        const todayBtn = document.getElementById('todayBtn');

        // Настройки
        const START_YEAR = 2017;
        const END_YEAR = 2025;
        const MONTHS = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'];

        // Инициализация
        function init() {
            generateYearOptions();
            generateCalendar();
            setupEventListeners();
        }

        // Генерация опций выбора годов
        function generateYearOptions() {
            for (let year = START_YEAR; year <= END_YEAR; year++) {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year;
                yearSelect.appendChild(option);
            }
        }

        // Генерация календаря
        function generateCalendar() {
            filmStrip.innerHTML = '';
            
            for (let year = START_YEAR; year <= END_YEAR; year++) {
                for (let month = 0; month < 12; month++) {
                    const monthSection = createMonthSection(year, month);
                    filmStrip.appendChild(monthSection);
                }
            }
        }

        // Создание секции месяца
        function createMonthSection(year, month) {
            const section = document.createElement('div');
            section.className = 'month-section';
            section.dataset.year = year;
            section.dataset.month = month;
            
            const monthName = MONTHS[month];
            section.innerHTML = `
                <div class="month-header">${monthName} ${year}</div>
                <div class="days-grid" id="days-${year}-${month}"></div>
            `;
            
            const daysGrid = section.querySelector('.days-grid');
            populateDaysGrid(daysGrid, year, month);
            
            return section;
        }

        // Заполнение сетки дней
        function populateDaysGrid(daysGrid, year, month) {
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            
            // Пустые ячейки для дней перед первым числом
            for (let i = 0; i < (firstDay === 0 ? 6 : firstDay - 1); i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'day empty';
                daysGrid.appendChild(emptyDay);
            }
            
            // Дни месяца
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'day';
                dayElement.textContent = day;
                dayElement.dataset.date = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                
                // Проверка на события
                const event = eventsData.find(event => event.date === dayElement.dataset.date);
                if (event) {
                    dayElement.classList.add('event', event.type);
                    dayElement.innerHTML += `<div class="event-marker"></div>`;
                    dayElement.title = event.title;
                }
                
                daysGrid.appendChild(dayElement);
            }
        }

        // Настройка обработчиков событий
        function setupEventListeners() {
            goToDateBtn.addEventListener('click', scrollToSelectedDate);
            todayBtn.addEventListener('click', scrollToToday);
            
            yearSelect.addEventListener('change', updateMonthOptions);
            monthSelect.addEventListener('change', updateDayOptions);
            
            // Клик по дню
            filmStrip.addEventListener('click', (e) => {
                if (e.target.classList.contains('day') && !e.target.classList.contains('empty')) {
                    const date = e.target.dataset.date;
                    showEventDetails(date);
                }
            });
        }

        // Обновление опций месяцев
        function updateMonthOptions() {
            monthSelect.innerHTML = '<option value="">Выберите месяц</option>';
            daySelect.innerHTML = '<option value="">Выберите день</option>';
            
            if (yearSelect.value) {
                MONTHS.forEach((month, index) => {
                    const option = document.createElement('option');
                    option.value = index;
                    option.textContent = month;
                    monthSelect.appendChild(option);
                });
            }
        }

        // Обновление опций дней
        function updateDayOptions() {
            daySelect.innerHTML = '<option value="">Выберите день</option>';
            
            if (yearSelect.value && monthSelect.value) {
                const year = parseInt(yearSelect.value);
                const month = parseInt(monthSelect.value);
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                
                for (let day = 1; day <= daysInMonth; day++) {
                    const option = document.createElement('option');
                    option.value = day;
                    option.textContent = day;
                    daySelect.appendChild(option);
                }
            }
        }

        // Прокрутка к выбранной дате
        function scrollToSelectedDate() {
            const year = yearSelect.value;
            const month = monthSelect.value;
            const day = daySelect.value;
            
            if (!year || !month) {
                alert('Пожалуйста, выберите год и месяц');
                return;
            }
            
            const targetDate = `${year}-${String(parseInt(month) + 1).padStart(2, '0')}-${String(day || 1).padStart(2, '0')}`;
            const targetElement = document.querySelector(`.month-section[data-year="${year}"][data-month="${month}"]`);
            
            if (targetElement) {
                smoothScrollToElement(targetElement);
                
                // Подсветка выбранного дня
                if (day) {
                    setTimeout(() => {
                        const dayElement = document.querySelector(`.day[data-date="${targetDate}"]`);
                        if (dayElement) {
                            dayElement.style.background = '#555';
                            dayElement.style.borderColor = '#ff4444';
                            setTimeout(() => {
                                dayElement.style.background = '';
                                dayElement.style.borderColor = '';
                            }, 2000);
                        }
                    }, 1000);
                }
            }
        }

        // Прокрутка к текущей дате
        function scrollToToday() {
            const today = new Date();
            const year = today.getFullYear();
            const month = today.getMonth();
            const day = today.getDate();
            
            yearSelect.value = year;
            updateMonthOptions();
            monthSelect.value = month;
            updateDayOptions();
            daySelect.value = day;
            
            scrollToSelectedDate();
        }

        // Плавная прокрутка к элементу
        function smoothScrollToElement(element) {
            const startPosition = filmStrip.scrollLeft;
            const targetPosition = element.offsetLeft - (filmStrip.offsetWidth - element.offsetWidth) / 2;
            const distance = targetPosition - startPosition;
            const duration = 1500;
            let startTime = null;

            function animation(currentTime) {
                if (!startTime) startTime = currentTime;
                const timeElapsed = currentTime - startTime;
                const progress = Math.min(timeElapsed / duration, 1);
                
                // Эффект easeInOut
                const easeProgress = progress < 0.5 
                    ? 2 * progress * progress 
                    : -1 + (4 - 2 * progress) * progress;
                
                filmStrip.scrollLeft = startPosition + (distance * easeProgress);
                
                if (timeElapsed < duration) {
                    requestAnimationFrame(animation);
                }
            }
            
            requestAnimationFrame(animation);
        }

        // Показать детали события
        function showEventDetails(date) {
            const event = eventsData.find(event => event.date === date);
            if (event) {
                alert(`Событие: ${event.title}\nДата: ${date}\nТип: ${getEventTypeName(event.type)}`);
            }
        }

        // Получить название типа события
        function getEventTypeName(type) {
            const names = {
                'teaser': 'Тизер',
                'trailer': 'Трейлер', 
                'game': 'Игра'
            };
            return names[type] || type;
        }

        // Запуск при загрузке
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
